# Mole å‘½ä»¤å‚è€ƒ

æœ¬æ–‡æ¡£æä¾› Mole å·¥å…·çš„è¯¦ç»†å‘½ä»¤è¯´æ˜ã€å‚æ•°é€‰é¡¹å’Œæœ€ä½³å®è·µã€‚

## å®‰è£…

```bash
# é€šè¿‡ Homebrew å®‰è£…
brew install mole

# æˆ–é€šè¿‡å®‰è£…è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/tw93/mole/main/install.sh | bash
```

## æ ¸å¿ƒå‘½ä»¤

### mo clean - æ·±åº¦ç³»ç»Ÿæ¸…ç†

æ¸…ç†ç³»ç»Ÿç¼“å­˜ã€æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo clean
```

**æ¨èç”¨æ³•ï¼ˆå…ˆé¢„è§ˆï¼‰**ï¼š
```bash
mo clean --dry-run
```

**å¸¸ç”¨å‚æ•°**ï¼š
- `--dry-run` - é¢„è§ˆæ¸…ç†è®¡åˆ’ï¼Œä¸å®é™…åˆ é™¤
- `--debug` - æ˜¾ç¤ºè¯¦ç»†æ—¥å¿—ï¼ŒåŒ…æ‹¬é£é™©ç­‰çº§å’Œæ–‡ä»¶ä¿¡æ¯
- `--whitelist` - ç®¡ç†å—ä¿æŠ¤çš„ç¼“å­˜è·¯å¾„

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Scanning cache directories...

  âœ“ User app cache                                           45.2GB
  âœ“ Browser cache (Chrome, Safari, Firefox)                  10.5GB
  âœ“ Developer tools (Xcode, Node.js, npm)                    23.3GB
  âœ“ System logs and temp files                                3.8GB
  âœ“ App-specific cache (Spotify, Dropbox, Slack)              8.4GB
  âœ“ Trash                                                    12.3GB

====================================================================
Space freed: 95.5GB | Free space now: 223.5GB
====================================================================
```

**æ¸…ç†å†…å®¹**ï¼š
- ç”¨æˆ·åº”ç”¨ç¼“å­˜ï¼ˆ~/Library/Cachesï¼‰
- æµè§ˆå™¨ç¼“å­˜ï¼ˆChromeã€Safariã€Firefoxï¼‰
- å¼€å‘è€…å·¥å…·ç¼“å­˜ï¼ˆXcodeã€npmã€yarnï¼‰
- ç³»ç»Ÿæ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶
- åº”ç”¨ç‰¹å®šç¼“å­˜
- åºŸçº¸ç¯“

**å®‰å…¨æ³¨æ„äº‹é¡¹**ï¼š
- å§‹ç»ˆå…ˆä½¿ç”¨ `--dry-run` é¢„è§ˆ
- æ£€æŸ¥æ¸…ç†å†…å®¹ï¼Œç¡®è®¤æ²¡æœ‰é‡è¦æ–‡ä»¶
- æŸäº›ç¼“å­˜åˆ é™¤åå¯èƒ½ä¼šå½±å“åº”ç”¨å¯åŠ¨é€Ÿåº¦ï¼ˆé¦–æ¬¡å¯åŠ¨æ—¶é‡æ–°ç”Ÿæˆï¼‰

---

### mo uninstall - æ™ºèƒ½åº”ç”¨å¸è½½

å½»åº•å¸è½½åº”ç”¨åŠå…¶ç›¸å…³æ–‡ä»¶ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo uninstall
```

**å·¥ä½œæµç¨‹**ï¼š
1. æ˜¾ç¤ºå·²å®‰è£…åº”ç”¨åˆ—è¡¨
2. é€‰æ‹©è¦å¸è½½çš„åº”ç”¨
3. æ‰«æå¹¶æ˜¾ç¤ºç›¸å…³æ–‡ä»¶
4. ç¡®è®¤åå½»åº•åˆ é™¤

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Select Apps to Remove
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â–¶ â˜‘ Photoshop 2024            (4.2G) | Old
  â˜ IntelliJ IDEA             (2.8G) | Recent
  â˜ Premiere Pro              (3.4G) | Recent

Uninstalling: Photoshop 2024

  âœ“ Removed application
  âœ“ Cleaned 52 related files across 12 locations
    - Application Support, Caches, Preferences
    - Logs, WebKit storage, Cookies
    - Extensions, Plugins, Launch daemons

====================================================================
Space freed: 12.8GB
====================================================================
```

**æ¸…ç†ä½ç½®**ï¼š
- åº”ç”¨ç¨‹åºæœ¬èº«
- ~/Library/Application Support
- ~/Library/Caches
- ~/Library/Preferences
- ~/Library/Logs
- ~/Library/WebKit
- ~/Library/Extensions
- ~/Library/LaunchAgents/Daemons

**æ³¨æ„äº‹é¡¹**ï¼š
- å¸è½½æ˜¯æ°¸ä¹…æ€§çš„ï¼Œæ— æ³•æ’¤é”€
- æŸäº›åº”ç”¨å¯èƒ½éœ€è¦æ‰‹åŠ¨æ¸…ç†æ®‹ç•™æ–‡ä»¶
- æ£€æŸ¥åº”ç”¨æ˜¯å¦æœ‰å†…ç½®çš„å¸è½½ç¨‹åº

---

### mo analyze - ç£ç›˜ç©ºé—´åˆ†æ

å¯è§†åŒ–çš„ç£ç›˜ç©ºé—´åˆ†æå·¥å…·ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo analyze

# åˆ†æç‰¹å®šç›®å½•
mo analyze ~/Documents ~/Downloads
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Analyze Disk  ~/Documents  |  Total: 156.8GB

 â–¶  1. â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  48.2%  |  ğŸ“ Library                     75.4GB  >6mo
    2. â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  22.1%  |  ğŸ“ Downloads                   34.6GB
    3. â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  14.3%  |  ğŸ“ Movies                      22.4GB
    4. â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10.8%  |  ğŸ“ Documents                   16.9GB
    5. â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   5.2%  |  ğŸ“„ backup_2023.zip              8.2GB

  â†‘â†“â†â†’ Navigate  |  O Open  |  F Show  |  âŒ« Delete  |  L Large files  |  Q Quit
```

**å¿«æ·é”®**ï¼š
- `â†‘â†“â†â†’` æˆ– `hjkl` - å¯¼èˆª
- `O` - æ‰“å¼€æ–‡ä»¶/æ–‡ä»¶å¤¹
- `F` - æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯
- `âŒ«` æˆ– `d` - åˆ é™¤æ–‡ä»¶
- `L` - æ˜¾ç¤ºå¤§æ–‡ä»¶åˆ—è¡¨
- `Q` - é€€å‡º

**ä½¿ç”¨åœºæ™¯**ï¼š
- æ‰¾å‡ºå ç”¨å¤§é‡ç©ºé—´çš„æ–‡ä»¶å’Œç›®å½•
- è¯†åˆ«å¯ä»¥æ¸…ç†çš„å†…å®¹
- è§„åˆ’æ¸…ç†ç­–ç•¥

---

### mo optimize - ç³»ç»Ÿä¼˜åŒ–

é‡å»ºç³»ç»Ÿç¼“å­˜ã€åˆ·æ–°æœåŠ¡å’Œä¼˜åŒ–æ€§èƒ½ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo optimize
```

**æ¨èç”¨æ³•ï¼ˆå…ˆé¢„è§ˆï¼‰**ï¼š
```bash
mo optimize --dry-run
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
System: 5/32 GB RAM | 333/460 GB Disk (72%) | Uptime 6d

  âœ“ Rebuild system databases and clear caches
  âœ“ Reset network services
  âœ“ Refresh Finder and Dock
  âœ“ Clean diagnostic and crash logs
  âœ“ Remove swap files and restart dynamic pager
  âœ“ Rebuild launch services and spotlight index

====================================================================
System optimization completed
====================================================================
```

**ä¼˜åŒ–å†…å®¹**ï¼š
- é‡å»ºç³»ç»Ÿæ•°æ®åº“
- æ¸…ç†ç³»ç»Ÿç¼“å­˜
- é‡ç½®ç½‘ç»œæœåŠ¡
- åˆ·æ–° Finder å’Œ Dock
- æ¸…ç†è¯Šæ–­å’Œå´©æºƒæ—¥å¿—
- æ¸…ç†äº¤æ¢æ–‡ä»¶
- é‡å»ºå¯åŠ¨æœåŠ¡å’Œ Spotlight ç´¢å¼•

**å‚æ•°**ï¼š
- `--dry-run` - é¢„è§ˆä¼˜åŒ–æ“ä½œ
- `--debug` - æ˜¾ç¤ºè¯¦ç»†æ“ä½œæ—¥å¿—
- `--whitelist` - ç®¡ç†å—ä¿æŠ¤çš„ä¼˜åŒ–è§„åˆ™

**æ³¨æ„äº‹é¡¹**ï¼š
- æŸäº›ä¼˜åŒ–å¯èƒ½éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆ
- é‡å»º Spotlight ç´¢å¼•å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´
- å»ºè®®åœ¨ç³»ç»Ÿç©ºé—²æ—¶æ‰§è¡Œ

---

### mo purge - é¡¹ç›®æ„å»ºäº§ç‰©æ¸…ç†

æ¸…ç†å¼€å‘é¡¹ç›®çš„æ„å»ºäº§ç‰©ï¼ˆnode_modulesã€targetã€build ç­‰ï¼‰ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo purge
```

**è‡ªå®šä¹‰æ‰«æè·¯å¾„**ï¼š
```bash
mo purge --paths
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Select Categories to Clean - 18.5GB (8 selected)

â¤ â— my-react-app       3.2GB | node_modules
  â— old-project        2.8GB | node_modules
  â— rust-app           4.1GB | target
  â— next-blog          1.9GB | node_modules
  â—‹ current-work       856MB | node_modules  | Recent
  â— django-api         2.3GB | venv
  â— vue-dashboard      1.7GB | node_modules
  â— backend-service    2.5GB | node_modules
```

**æ¸…ç†çš„æ„å»ºäº§ç‰©ç±»å‹**ï¼š
- `node_modules` (Node.js/npm)
- `target` (Rust/Cargo)
- `build`ã€`dist` (å‰ç«¯æ¡†æ¶)
- `venv`ã€`.venv` (Python)
- `.gradle` (Android/Java)
- `.m2` (Maven)

**æ™ºèƒ½è¯†åˆ«**ï¼š
- æ ‡è®°è¿‘æœŸé¡¹ç›®ï¼ˆ<7å¤©ï¼‰ä¸ºé»˜è®¤ä¸é€‰ä¸­
- æ˜¾ç¤ºé¡¹ç›®æœ€åä¿®æ”¹æ—¶é—´
- æŒ‰å¤§å°æ’åº

**æ³¨æ„äº‹é¡¹**ï¼š
- åˆ é™¤åéœ€è¦é‡æ–°æ„å»ºé¡¹ç›®
- å»ºè®®åœ¨æ¸…ç†å‰æäº¤ä»£ç æ›´æ”¹
- ä¿ç•™æ­£åœ¨æ´»è·ƒå¼€å‘çš„é¡¹ç›®

---

### mo installer - å®‰è£…æ–‡ä»¶æ¸…ç†

æŸ¥æ‰¾å¹¶åˆ é™¤å®‰è£…æ–‡ä»¶ï¼ˆ.dmgã€.pkgã€.zip ç­‰ï¼‰ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo installer
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Select Installers to Remove - 3.8GB (5 selected)

â¤ â— Photoshop_2024.dmg     1.2GB | Downloads
  â— IntelliJ_IDEA.dmg       850.6MB | Downloads
  â— Illustrator_Setup.pkg   920.4MB | Downloads
  â— PyCharm_Pro.dmg         640.5MB | Homebrew
  â— Acrobat_Reader.dmg      220.4MB | Downloads
  â—‹ AppCode_Legacy.zip      410.6MB | Downloads
```

**æ‰«æä½ç½®**ï¼š
- ~/Downloads
- ~/Desktop
- ~/Library/Caches/Homebrew
- iCloud Drive
- Mail é™„ä»¶

**æ”¯æŒçš„æ–‡ä»¶ç±»å‹**ï¼š
- .dmg (ç£ç›˜é•œåƒ)
- .pkg (macOS å®‰è£…åŒ…)
- .zip (å‹ç¼©åŒ…)
- .tar.gz (å‹ç¼©åŒ…)
- .exe (Windows å®‰è£…ç¨‹åº)

---

### mo status - ç³»ç»ŸçŠ¶æ€ç›‘æ§

å®æ—¶æ˜¾ç¤ºç³»ç»Ÿå¥åº·çŠ¶æ€å’Œæ€§èƒ½æŒ‡æ ‡ã€‚

**åŸºæœ¬ç”¨æ³•**ï¼š
```bash
mo status
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
Mole Status  Health â— 92  MacBook Pro Â· M4 Pro Â· 32GB Â· macOS 14.5

âš™ CPU                                    â–¦ Memory
Total   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  45.2%       Used    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  58.4%
Load    0.82 / 1.05 / 1.23 (8 cores)     Total   14.2 / 24.0 GB
Core 1  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  78.3%       Free    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  41.6%
Core 2  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  62.1%       Avail   9.8 GB

â–¤ Disk                                   âš¡ Power
Used    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘  67.2%       Level   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  100%
Free    156.3 GB                         Status  Charged
Read    â–®â–¯â–¯â–¯â–¯  2.1 MB/s                  Health  Normal Â· 423 cycles
Write   â–®â–®â–®â–¯â–¯  18.3 MB/s                 Temp    58Â°C Â· 1200 RPM

â‡… Network                                â–¶ Processes
Down    â–®â–®â–¯â–¯â–¯  3.2 MB/s                  Code       â–®â–®â–®â–®â–¯  42.1%
Up      â–®â–¯â–¯â–¯â–¯  0.8 MB/s                  Chrome     â–®â–®â–®â–¯â–¯  28.3%
Proxy   HTTP Â· 192.168.1.100             Terminal   â–®â–¯â–¯â–¯â–¯  12.5%
```

**æ˜¾ç¤ºå†…å®¹**ï¼š
- CPU ä½¿ç”¨ç‡å’Œè´Ÿè½½
- å†…å­˜ä½¿ç”¨æƒ…å†µ
- ç£ç›˜ä½¿ç”¨å’Œ I/O
- ç”µæ± çŠ¶æ€å’Œå¥åº·
- ç½‘ç»œæµé‡
- èµ„æºå ç”¨æœ€é«˜çš„è¿›ç¨‹

**å¿«æ·é”®**ï¼š
- `k` - åˆ‡æ¢çŒ«å’ªå¯è§æ€§
- `q` - é€€å‡º

**å¥åº·è¯„åˆ†**ï¼š
åŸºäº CPUã€å†…å­˜ã€ç£ç›˜ã€æ¸©åº¦å’Œ I/O è´Ÿè½½ç»¼åˆè®¡ç®—ã€‚

---

## é…ç½®å‘½ä»¤

### mo touchid - é…ç½® Touch ID

é…ç½® Touch ID ç”¨äº sudo éªŒè¯ã€‚

```bash
mo touchid
```

### mo completion - Shell è‡ªåŠ¨è¡¥å…¨

è®¾ç½®å‘½ä»¤è¡Œè‡ªåŠ¨è¡¥å…¨ã€‚

```bash
mo completion
```

æ”¯æŒçš„ Shellï¼šbashã€zshã€fish

### mo update - æ›´æ–° Mole

æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

```bash
mo update
```

### mo remove - å¸è½½ Mole

ä»ç³»ç»Ÿä¸­å¸è½½ Moleã€‚

```bash
mo remove
```

---

## å¸¸ç”¨ç»„åˆå‘½ä»¤

### æ—¥å¸¸æ¸…ç†æµç¨‹

```bash
# 1. æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
mo status

# 2. é¢„è§ˆæ¸…ç†è®¡åˆ’
mo clean --dry-run

# 3. æ‰§è¡Œæ¸…ç†
mo clean
```

### æ·±åº¦æ¸…ç†æµç¨‹

```bash
# 1. ç£ç›˜åˆ†æ
mo analyze

# 2. æ¸…ç†ç¼“å­˜
mo clean --dry-run --debug

# 3. æ¸…ç†å®‰è£…æ–‡ä»¶
mo installer

# 4. ç³»ç»Ÿä¼˜åŒ–
mo optimize --dry-run
```

### å¼€å‘è€…æ¸…ç†æµç¨‹

```bash
# 1. æ£€æŸ¥é¡¹ç›®æ„å»ºäº§ç‰©
mo purge

# 2. æ¸…ç†å¼€å‘è€…å·¥å…·ç¼“å­˜
mo clean --dry-run --debug | grep -E "(Xcode|Node|npm|yarn)"
```

---

## æœ€ä½³å®è·µ

1. **å®‰å…¨ç¬¬ä¸€**
   - å§‹ç»ˆä½¿ç”¨ `--dry-run` é¢„è§ˆ
   - æ£€æŸ¥æ¸…ç†å†…å®¹
   - å®šæœŸå¤‡ä»½é‡è¦æ•°æ®

2. **å®šæœŸæ¸…ç†**
   - æ—¥å¸¸æ¸…ç†ï¼šæ¯å‘¨ä¸€æ¬¡
   - æ·±åº¦æ¸…ç†ï¼šæ¯æœˆä¸€æ¬¡
   - é¡¹ç›®æ¸…ç†ï¼šæ ¹æ®éœ€è¦

3. **æ¸…ç†å‰æ£€æŸ¥**
   - å…³é—­æ‰€æœ‰åº”ç”¨
   - ä¿å­˜å·¥ä½œ
   - æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„æœåŠ¡

4. **æ¸…ç†åéªŒè¯**
   - æ£€æŸ¥åº”ç”¨æ˜¯å¦æ­£å¸¸å·¥ä½œ
   - éªŒè¯ç³»ç»ŸåŠŸèƒ½
   - ç›‘æ§ç³»ç»Ÿæ€§èƒ½

5. **æ—¥å¿—è®°å½•**
   - ä¿å­˜æ¸…ç†æ—¥å¿—
   - è®°å½•æ¸…ç†æ—¶é—´
   - è·Ÿè¸ªæ¸…ç†æ•ˆæœ

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šå‘½ä»¤æ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ Mole æ˜¯å¦æ­£ç¡®å®‰è£…
which mo
mo --version

# é‡æ–°å®‰è£…
brew reinstall mole
```

### é—®é¢˜ï¼šæ¸…ç†ååº”ç”¨å˜æ…¢

**åŸå› **ï¼šç¼“å­˜åˆ é™¤åéœ€è¦é‡æ–°ç”Ÿæˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ­£å¸¸ç°è±¡ï¼Œé¦–æ¬¡å¯åŠ¨æ—¶ä¼šé‡å»ºç¼“å­˜
- è€ƒè™‘ä½¿ç”¨ `--whitelist` ä¿æŠ¤æŸäº›ç¼“å­˜

### é—®é¢˜ï¼šç£ç›˜ç©ºé—´æœªé‡Šæ”¾

**æ£€æŸ¥**ï¼š
```bash
# æ¸…åºŸçº¸ç¯“
rm -rf ~/.Trash/*

# æ£€æŸ¥äº¤æ¢æ–‡ä»¶
swapfile list
```

---

## å‚è€ƒé“¾æ¥

- å®˜æ–¹æ–‡æ¡£ï¼šhttps://github.com/tw93/mole
- é—®é¢˜åé¦ˆï¼šhttps://github.com/tw93/mole/issues
