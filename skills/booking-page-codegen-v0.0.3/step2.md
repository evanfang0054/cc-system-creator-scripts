# 步骤2：接口与数据逻辑补全

**触发条件**：'current_step = 2'，已完成需求理解和代码分析

**行动**:

1. **调用数据集成专家代理**
   - 启动 `booking-data-integration-expert` 代理来执行专业的API接口集成和数据层逻辑设计工作
   - 该代理将自动执行以下操作：

2. **API文档深度分析**
   - 代理会彻底阅读相关的接口文档和API请求规范
   - 获取接口 Schema 进行实时分析，确保接口调用的准确性
   - **重要**：代理严格遵循只基于真实API Schema进行设计的原则

3. **数据层架构设计**
   - 代理会基于API规范设计完整的接口请求函数
   - 规划 `useBookingStore` 中的数据存储和管理策略：
     * 资源详情（resource details）
     - Policy 配置和 PrebookingPolicy 规则
     - 可选日期列表（available dates）
     - 时间段数据（time slots）
     - 乘客信息状态

4. **状态管理设计**
   - 代理会设计页面初始化时的数据加载流程
   - 规划错误处理和重试机制
   - 设计数据的缓存和失效机制

**输出目标**：

- 通过专家代理获得完整的API接口调用函数设计
- 获得详细的 store 状态结构和更新逻辑
- 为下一步的UI交互逻辑提供清晰的数据接口
